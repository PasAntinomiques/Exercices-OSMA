package general;

import java.lang.Math;


public class Cities {
	
	private String[] name_list;
	private int num ;
	private int[] index_list;
	private int[][] dist;
	private int start_city;
	
/*	
	
	int[][] coord = {{6734,1453},
			{2233,10},
			{5530,1424},
			{401,841},
			{3082,1644},
			{7608,4458},
			{7573,3716},
			{7265,1268},
			{6898,1885},
			{1112,2049},
			{5468,2606},
			{5989,2873},
			{4706,2674},
			{4612,2035},
			{6347,2683},
			{6107,669},
			{7611,5184},
			{7462,3590},
			{7732,4723},
			{5900,3561},
			{4483,3369},
			{6101,1110},
			{5199,2182},
			{1633,2809},
			{4307,2322},
			{675,1006},
			{7555,4819},
			{7541,3981},
			{3177,756},
			{7352,4506},
			{7545,2801},
			{3245,3305},
			{6426,3173},
			{4608,1198},
			{23,2216},
			{7248,3779},
			{7762,4595},
			{7392,2244},
			{3484,2829},
			{6271,2135},
			{4985,140},
			{1916,1569},
			{7280,4899},
			{7509,3239},
			{10,2676},
			{6807,2993},
			{5185,3258},
			{3023,1942}};
*/


	//cas 439 villes

	
	int[][] coord = {{7125,11300},
		{7225,11050},
		{7225,11150},
		{7375,11300},
		{7500,11200},
		{7625,11275},
		{7725,11275},
		{7825,11275},
		{7925,11275},
		{8050,11225},
		{8050,11125},
		{8150,11125},
		{8275,11300},
		{8400,11300},
		{8525,11300},
		{8650,11300},
		{8750,11200},
		{12475,10800},
		{12075,10800},
		{11975,10975},
		{11575,10975},
		{11525,10850},
		{11400,10975},
		{11425,10850},
		{11000,10975},
		{10475,10850},
		{10375,10850},
		{10300,10975},
		{10250,10850},
		{9900,10975},
		{9850,10850},
		{9350,11000},
		{8750,11000},
		{8650,10900},
		{8525,10900},
		{8400,10900},
		{8275,10900},
		{8050,10775},
		{7900,10775},
		{7925,10975},
		{7825,10975},
		{7750,10775},
		{7725,10975},
		{7600,10775},
		{7625,10975},
		{7500,11000},
		{7425,10750},
		{7325,10750},
		{7375,10900},
		{7225,10750},
		{7125,10750},
		{7125,10900},
		{7125,10450},
		{7225,10450},
		{7325,10450},
		{7425,10450},
		{8300,10500},
		{8600,10500},
		{8950,10425},
		{9050,10425},
		{9150,10425},
		{9350,10600},
		{10200,10600},
		{10700,10600},
		{11375,10575},
		{11525,10625},
		{11650,10625},
		{11775,10450},
		{11775,10250},
		{11650,10125},
		{11525,10125},
		{11375,10175},
		{10250,10325},
		{10250,10125},
		{9275,10275},
		{9175,10275},
		{8950,10200},
		{8750,10200},
		{8050,10275},
		{7900,10275},
		{7750,10275},
		{7600,10275},
		{4975,10125},
		{4750,10125},
		{4525,10125},
		{8750,10000},
		{8950,10000},
		{11375,10000},
		{11475,10000},
		{11575,10000},
		{11675,10000},
		{12100,9875},
		{12225,9875},
		{12350,9875},
		{12750,9925},
		{12875,9925},
		{13125,9875},
		{13000,9800},
		{13000,9550},
		{12600,9775},
		{12600,9575},
		{11975,9800},
		{11975,9550},
		{11675,9700},
		{11575,9700},
		{11475,9700},
		{11375,9700},
		{10975,9600},
		{10850,9600},
		{10375,9250},
		{10475,9250},
		{10575,9250},
		{11725,9325},
		{11850,9375},
		{12100,9475},
		{12050,9275},
		{12225,9475},
		{12150,9275},
		{12250,9275},
		{12350,9475},
		{12350,9275},
		{12525,9325},
		{12750,9425},
		{12775,9275},
		{12875,9425},
		{12875,9275},
		{12975,9275},
		{13125,9475},
		{13075,9275},
		{13250,9375},
		{13375,9375},
		{13500,9375},
		{13625,9375},
		{13075,8975},
		{12975,8975},
		{12875,8975},
		{12775,8975},
		{12525,8925},
		{12350,8975},
		{12250,8975},
		{12150,8975},
		{12050,8975},
		{11725,8925},
		{10975,9200},
		{10900,8975},
		{10850,9200},
		{10800,9075},
		{10800,8975},
		{5150,8750},
		{11650,8725},
		{11775,8775},
		{11850,8875},
		{11900,8725},
		{12025,8625},
		{12150,8650},
		{12275,8725},
		{12400,8625},
		{12525,8725},
		{12650,8625},
		{12850,8725},
		{12975,8625},
		{13100,8775},
		{13250,8875},
		{13375,8875},
		{13500,8875},
		{13475,8725},
		{13625,8875},
		{13700,8500},
		{13600,8600},
		{13600,8500},
		{13475,8325},
		{13350,8350},
		{13250,8450},
		{13250,8350},
		{12975,8425},
		{12850,8325},
		{12650,8425},
		{12525,8325},
		{12400,8425},
		{12275,8325},
		{12150,8400},
		{12025,8425},
		{11900,8325},
		{11650,8325},
		{11000,8575},
		{4900,8500},
		{6150,8275},
		{6625,8300},
		{7025,8300},
		{11225,8125},
		{11550,8125},
		{11775,8275},
		{11850,8125},
		{11975,8125},
		{12100,8125},
		{12225,8125},
		{12350,8125},
		{12475,8025},
		{12600,8125},
		{12725,8125},
		{12850,8125},
		{12975,8125},
		{13100,8125},
		{13100,8275},
		{13225,8125},
		{13375,8175},
		{13500,8175},
		{13625,8125},
		{13625,7725},
		{13225,7725},
		{13100,7725},
		{12975,7725},
		{12850,7725},
		{12725,7725},
		{12600,7725},
		{12475,7825},
		{12350,7725},
		{12225,7725},
		{12100,7725},
		{11975,7725},
		{11850,7725},
		{11550,7725},
		{11225,7725},
		{11000,7775},
		{6625,7950},
		{4800,7825},
		{4550,7825},
		{4550,7425},
		{4800,7425},
		{6150,7525},
		{6825,7575},
		{7075,7575},
		{11450,7500},
		{11550,7500},
		{11650,7500},
		{11750,7500},
		{11850,7500},
		{11950,7500},
		{12050,7500},
		{12150,7500},
		{12325,7550},
		{12500,7500},
		{12600,7500},
		{12700,7500},
		{12800,7500},
		{13025,7500},
		{13125,7500},
		{13225,7500},
		{13325,7500},
		{13375,7675},
		{13500,7675},
		{13500,7450},
		{13625,7550},
		{13625,7150},
		{13500,7250},
		{13325,7200},
		{13225,7200},
		{13125,7200},
		{13025,7200},
		{12800,7200},
		{12700,7200},
		{12600,7200},
		{12500,7200},
		{12325,7150},
		{12150,7200},
		{12050,7200},
		{11950,7200},
		{11850,7200},
		{11750,7200},
		{11650,7200},
		{11550,7200},
		{11450,7200},
		{11050,7125},
		{10950,7125},
		{10850,7125},
		{10750,7125},
		{10650,7125},
		{10550,7125},
		{10450,7125},
		{7075,7175},
		{5825,7350},
		{5425,7350},
		{4425,7275},
		{4425,6875},
		{7075,7075},
		{7250,7025},
		{7250,6900},
		{7750,6900},
		{7900,6900},
		{8200,6900},
		{8350,6900},
		{8650,6900},
		{8800,6900},
		{10450,6825},
		{10550,6825},
		{10650,6825},
		{10750,6825},
		{10850,6825},
		{10950,6825},
		{11050,6825},
		{11425,6975},
		{11575,6925},
		{11575,6825},
		{11675,6825},
		{11850,6975},
		{11975,6975},
		{12225,6975},
		{12350,6975},
		{12475,6975},
		{12600,6975},
		{12725,6875},
		{12850,6975},
		{12975,6975},
		{13125,7025},
		{13275,6975},
		{13400,7025},
		{13400,6525},
		{13275,6575},
		{13125,6525},
		{12975,6575},
		{12850,6575},
		{12725,6675},
		{12600,6575},
		{12475,6575},
		{12350,6575},
		{12225,6575},
		{11975,6575},
		{11850,6575},
		{11675,6575},
		{11575,6675},
		{11575,6575},
		{11425,6575},
		{11050,6625},
		{10950,6625},
		{10850,6625},
		{10750,6625},
		{10650,6625},
		{10550,6625},
		{10450,6625},
		{7075,6675},
		{5675,6650},
		{5175,6650},
		{5050,6575},
		{4650,6575},
		{7650,6375},
		{7750,6375},
		{7750,6500},
		{7850,6375},
		{7900,6500},
		{8100,6375},
		{8200,6375},
		{8200,6500},
		{8300,6375},
		{8350,6500},
		{8550,6375},
		{8650,6375},
		{8650,6500},
		{8750,6375},
		{8800,6500},
		{10450,6325},
		{10550,6325},
		{10650,6325},
		{10750,6325},
		{10850,6325},
		{10950,6325},
		{11050,6325},
		{11100,6075},
		{10950,6075},
		{10800,6125},
		{10300,6125},
		{5550,5675},
		{5625,5625},
		{5675,5750},
		{6175,5750},
		{6225,5625},
		{7625,5850},
		{7875,5850},
		{10950,5800},
		{7875,5350},
		{7625,5350},
		{6175,5400},
		{5675,5400},
		{5550,5425},
		{5550,5200},
		{10950,5300},
		{11050,5075},
		{11200,5075},
		{11350,4875},
		{7875,4875},
		{7675,4875},
		{6225,5000},
		{6175,4875},
		{5675,4875},
		{5625,5000},
		{5550,4950},
		{5550,4475},
		{5550,4675},
		{5675,4675},
		{6175,4675},
		{11350,4425},
		{11350,4650},
		{13225,4275},
		{4225,4075},
		{13225,4075},
		{13225,3700},
		{6350,3600},
		{5950,3600},
		{4225,3675},
		{4225,3525},
		{4475,3300},
		{4475,3450},
		{4975,3300},
		{4975,3450},
		{7900,3350},
		{10650,3525},
		{10850,3525},
		{13225,3500},
		{13225,3125},
		{8275,3000},
		{8125,3000},
		{7900,3200},
		{4975,3000},
		{4975,3150},
		{4475,3000},
		{4475,3150},
		{4225,3125},
		{4675,2700},
		{13225,2925},
		{13225,2525},
		{4675,2550},
		{13225,2325},
		{4675,1825},
		{4675,1975},
		{1975,4025},
		{2075,5675},
		{1975,5575},
		{1875,5475},
		{1775,5375},
		{2075,6475}
	};
	
	
	
	
	
	
	/**
	 * Constructeur :
	 * 
	 * @param name_list
	 *            list of the names of the different cities we need to travel
	 * @param num
	 *            number of cities
	 * @param index_list
	 * 			  list of integers from 0 to num-1. This is the list we will permutate to try new patterns.
	 * @param dist
	 * 			  matrix of distances
	 * @param start_city
	 * 			  index of the city we will begin in
	 */
	
	public Cities(String[] name_list, int[][] dist, int start_city) {
		this.name_list = name_list;
		this.num = this.name_list.length;
		
		int[] index_list = new int[this.num];
		for (int i=0 ; i<this.num ; i++) {		
			index_list[i] = i;
		}
		this.index_list = index_list;
		this.dist = dist;
		this.start_city = start_city;
	}
	
	public Cities(String[] name_list, int[][] dist, String start_city) {
		this.name_list = name_list;
		this.num = this.name_list.length;
		
		int[] index_list = new int[this.num];
		for (int i=0 ; i<this.num ; i++) {		
			index_list[i] = i;
		}
		this.index_list = index_list;
		this.dist = dist;
		
		this.start_city = this.getIndex(start_city);
	}
	
	public Cities(int num) {
		// Builder of the set of cities (not built randomly)
		// In this case, cities are aligned, and regularly placed, so the comparison
		// between the suggested cost and the real ideal cost is easy.
		 
		this.num = num;
		
		// x and y are the coordinates of the cities
		int[] x = new int[this.num];
		int[] y = new int[this.num];
		
		String[] name_list = new String[this.num];
		int[] index_list = new int[this.num];
		
		for (int i=0 ; i<this.num ; i++) {
			x[i] = 1000*(i%10);
			y[i] = 1000*(i/10);
			name_list[i] = "("+x[i]+","+y[i]+")";
			index_list[i] = i;
		}
					
		this.name_list = name_list;
		this.index_list = index_list;
		
		this.start_city = 0; //indice de l'origine, point (0,0)
		
		// Definition des distances
		int[][] dist = new int[this.num][this.num];
		for (int i=0 ; i<this.num ; i++) {
			for (int j=0 ; j<this.num ; j++) {
				dist[i][j] = (int)Math.pow(
						Math.pow(x[i]-x[j], 2) + 
						Math.pow(y[i]-y[j], 2), 0.5);
			}
		}
		this.dist = dist;
	}
	
	
	//liste des coordonnees et non des distances, utiliser les fonctions dessous
	
		


		
		
		
		
	//cette fonction convertit la liste de coordonnees en une matrice des distances
	// Necessiste un import java.lang.Math; au début du code
	public Cities() { 
		
		this.num = coord.length;
		
		int[][] distances = new int[coord.length][coord.length];
		for (int i=0;i<coord.length;i++){
			for (int j=0;j<coord.length;j++){
				distances[i][j] =(int) Math.sqrt( (Math.pow(coord[i][0]-coord[j][0], 2) + (Math.pow(coord[i][1]-coord[j][1], 2))) );
			}
		}
		
		String[] name_list = new String[coord.length];
		int[] index_list = new int[this.num];
		
		for (int i =0 ; i < coord.length ; i++) { 
			name_list[i] = "("+coord[i][0]+","+coord[i][1]+")" ;
			index_list[i] = i;
		}
		
		this.name_list = name_list;
		this.index_list = index_list;
		this.dist = distances;		
		this.start_city = 0;
		
	}
	

	/* Getter functions */
	
	public String[] get_name_list() { return this.name_list; }
	public int[] get_index_list() { return this.index_list; }
	public int[][] get_dist() { return this.dist; }
	public int get_num() { return this.num; }
	public int get_start_city() { return this.start_city; }
	 
	
	/* helper function */ 
	
	private int getIndex(String city) {
		for (int i=0; i<this.num ; i++) {
			if (this.name_list[i] == city) { return i; }
		}
		return -1;
		// exception
	}


}